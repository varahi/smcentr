<script>
    createDependableList ( '#registration_master_form_city', '#registration_master_form_district' );
    $(function(){
        $("#registration_master_form_phone").mask("+7(999) 999-9999");
    });
    // New avatar uploaded
    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#avatar')
                    .attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readDoc1(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#doc1')
                    .attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readDoc2(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#doc2')
                    .attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    function readDoc3(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#doc3')
                    .attr('src', e.target.result);
            };
            reader.readAsDataURL(input.files[0]);
        }
    }
    // Hover on upload button
    $( ".upload_file_1" ).hover(
        function() {
            $( ".upload-1" ).addClass( 'hover');
        }, function() {
            $( ".upload-1" ).removeClass( 'hover');
        }
    );
    $( ".upload_file_2" ).hover(
        function() {
            $( ".upload-2" ).addClass( 'hover');
        }, function() {
            $( ".upload-2" ).removeClass( 'hover');
        }
    );
    $( ".upload_file_3" ).hover(
        function() {
            $( ".upload-3" ).addClass( 'hover');
        }, function() {
            $( ".upload-3" ).removeClass( 'hover');
        }
    );
    $( ".upload_file_4" ).hover(
        function() {
            $( ".upload-4" ).addClass( 'hover');
        }, function() {
            $( ".upload-4" ).removeClass( 'hover');
        }
    );

    {% for profession in professions %}
    $("#registration_master_form_professions_{{ profession.id }}").click(function(){
        $(".prof_{{ profession.id }}").toggle(100);
    });
    {% endfor %}

    function checkParams() {
        var email = $('#registration_master_form_email').val();
        var pass1 = $('#registration_master_form_plainPassword_first').val();
        var pass2 = $('#registration_master_form_plainPassword_second').val();
        var phone = $('#registration_master_form_phone').val();
        var fullName = $('#registration_master_form_fullName').val();
        if (
            email.length != 0 &&
            pass1.length != 0 &&
            pass2.length != 0 &&
            phone.length != 0 &&
            fullName.length != 0 &&
            $('#registration_master_form_doc1').get(0).files.length != 0 &&
            $('#registration_master_form_doc2').get(0).files.length != 0 &&
            $('#registration_master_form_doc3').get(0).files.length != 0
        ){
            $('#submit').removeAttr('disabled');
        } else {
            $('#submit').attr('disabled', 'disabled');
        }
    }
    $("#submit").click(function() {
        $('#overlay').css({ display: "block" });
    });

</script>